<!DOCTYPE html>
<html lang="pl">
  <head>
    <!-- Ustawienia podstawowe -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Tytu≈Ç i opis -->
    <title>MockBank API ‚Äì NestJS + MongoDB Sandbox | Marek Sigmund</title>
    <meta
      name="description"
      content="MockBank API to serwis bankowy typu sandbox zbudowany w NestJS + MongoDB. Obs≈Çuguje konta, transakcje, webhooki HMAC i integracje z zewnƒôtrznymi aplikacjami (m.in. Bud≈ºetownik)."
    />

    <!-- SEO / Open Graph -->
    <meta
      property="og:title"
      content="MockBank API ‚Äì NestJS + MongoDB Sandbox"
    />
    <meta
      property="og:description"
      content="Serwis bankowy typu sandbox do testowania integracji. Zbudowany w NestJS + MongoDB z obs≈ÇugƒÖ webhook√≥w HMAC, JWT i Docker wdro≈ºeniem na Render."
    />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://mareksigmund.github.io/projects/mockbankapi.html"
    />
    <meta property="og:image" content="../assets/icon/og-mockbankapi.png" />

    <!-- Favicon i ikony -->
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../assets/icon/ms-favicon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="../assets/icon/ms-favicon.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="../assets/icon/ms-favicon.png"
    />

    <!-- Czcionki i style -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../assets/css/style.css" />
    <link rel="stylesheet" href="../assets/css/style_app.css" />

    <!-- Kolor motywu -->
    <meta name="theme-color" content="#1e3a8a" />
  </head>

  <body>
    <section class="project-page">
      <div class="container">
        <a href="../index.html#projects" class="back"
          >‚Üê Powr√≥t do strony g≈Ç√≥wnej</a
        >

        <h1>MockBank API</h1>
        <p class="intro">
          Serwis bankowy typu <em>mock</em> zbudowany w
          <strong>NestJS</strong> + <strong>MongoDB</strong>. S≈Çu≈ºy do symulacji
          kont i transakcji oraz integracji z systemami zewnƒôtrznymi <br />(np.
          <a href="budzetownik.html">Bud≈ºetownik</a>). Wdro≈ºony na
          <strong>Render</strong>, gotowy do test√≥w integracyjnych i
          automatycznej synchronizacji.
        </p>

        <ul class="tech-list" aria-label="Wykorzystane technologie">
          <li>NestJS (TypeScript)</li>
          <li>MongoDB (Mongoose)</li>
          <li>JWT (Access/Refresh)</li>
          <li>Webhooki</li>
          <li>Docker &amp; Render</li>
        </ul>

        <!-- Co potrafi / Architektura -->
        <div class="o-projekcie o-projekcie-grid">
          <div class="column">
            <h3>Co potrafi MockBank</h3>
            <p>
              <strong>MockBank</strong> to nowoczesne, sandboxowe
              <strong>API bankowe</strong> stworzone w technologii
              <strong>NestJS</strong>, kt√≥re pozwala symulowaƒá rzeczywiste
              operacje finansowe ‚Äî od rejestracji u≈ºytkownik√≥w i zak≈Çadania kont
              po pe≈ÇnƒÖ obs≈Çugƒô transakcji i integracjƒô z zewnƒôtrznymi
              aplikacjami.
            </p>

            <p>
              System umo≈ºliwia <strong>tworzenie wielu kont</strong> z
              niezale≈ºnym saldem, <strong>symulowanie transakcji</strong> z
              automatycznƒÖ aktualizacjƒÖ oraz <strong>podglƒÖd historii</strong> i
              salda w czasie rzeczywistym. Dane zwracane sƒÖ w ujednoliconym
              formacie, co u≈Çatwia testy i analizƒô.
            </p>

            <p>
              MockBank obs≈Çuguje <strong>integracje dwukierunkowe</strong>
              <em>push</em> (webhooki podpisywane
              <strong>HMAC-SHA256</strong> dla natychmiastowych powiadomie≈Ñ)
              oraz <em>pull</em> (endpointy REST do cyklicznej synchronizacji
              danych). Ca≈Ço≈õƒá uzupe≈ÇniajƒÖ wbudowane
              <strong>mechanizmy bezpiecze≈Ñstwa</strong> i stabilno≈õci:
              <code>/healthz</code>, <code>/readyz</code>, walidacja
              <strong>DTO</strong>, <strong>rate limiting</strong>,
              <strong>CORS</strong> oraz nag≈Ç√≥wki ochronne (<em>Helmet</em>),
              kt√≥re zapewniajƒÖ przewidywalne dzia≈Çanie ≈õrodowiska testowego.
            </p>
          </div>

          <div class="column">
            <h3>Architektura i bezpiecze≈Ñstwo</h3>
            <p>
              Projekt opiera siƒô na
              <strong>modularnej architekturze</strong> osobne modu≈Çy
              <code>auth</code>, <code>accounts</code>,
              <code>transactions</code>, <code>webhooks</code>,
              <code>integrations</code> i <code>system</code> odpowiadajƒÖ za
              jasno wydzielone obszary logiki, co u≈Çatwia utrzymanie i rozw√≥j.
              Uwierzytelnianie oparte jest o <strong>JWT</strong>, a has≈Ça
              zabezpieczane sƒÖ przy u≈ºyciu <strong>argon2</strong>. Sekrety
              webhook√≥w szyfrowane sƒÖ algorytmem <strong>AES</strong>, a
              wszystkie powiadomienia podpisywane <strong>HMAC-SHA256</strong> w
              nag≈Ç√≥wkach, co gwarantuje integralno≈õƒá i autentyczno≈õƒá danych.
            </p>

            <p>
              Publiczny endpoint integracyjny jest chroniony przez
              <strong>API-key</strong> w nag≈Ç√≥wku Bearer, co umo≈ºliwia
              testowanie integracji bez konieczno≈õci zarzƒÖdzania tokenami
              u≈ºytkownik√≥w. Ca≈Ça architektura zosta≈Ça zaprojektowana z my≈õlƒÖ o
              <strong>modularno≈õci</strong>,
              <strong>separacji odpowiedzialno≈õci</strong> i
              <strong>≈Çatwym rozszerzaniu</strong> o kolejne us≈Çugi (np.
              p≈Çatno≈õci, multiwaluty, logi bezpiecze≈Ñstwa), dziƒôki czemu projekt
              pozostaje <strong>elastyczny, bezpieczny i skalowalny</strong>.
            </p>
          </div>
        </div>

        <div class="endpoints-grid">
          <!-- LEWA KARTA -->
          <div class="endpoints-card">
            <h3>Endpointy ‚Äì core</h3>

            <div class="ep-group">
              <h4>Auth</h4>
              <div class="ep">
                <span class="verb post">POST</span
                ><code>/v1/auth/register</code>
              </div>
              <div class="ep">
                <span class="verb post">POST</span><code>/v1/auth/login</code>
              </div>
              <div class="ep">
                <span class="verb post">POST</span><code>/v1/auth/refresh</code>
              </div>
            </div>

            <div class="ep-group">
              <h4>Konta</h4>
              <div class="ep">
                <span class="verb get">GET</span><code>/v1/accounts</code>
              </div>
              <div class="ep">
                <span class="verb post">POST</span><code>/v1/accounts</code>
              </div>
              <div class="ep">
                <span class="verb post">POST</span>
                <code>/v1/accounts/:id/close</code>
                <span class="note">saldo=0, potwierdzenie nazwƒÖ i has≈Çem</span>
              </div>
            </div>

            <div class="ep-group">
              <h4>Transakcje</h4>
              <div class="ep">
                <span class="verb get">GET</span>
                <code
                  >/v1/accounts/:id/transactions?from&amp;to&amp;page&amp;limit</code
                >
              </div>
              <div class="ep">
                <span class="verb post">POST</span>
                <code>/v1/simulations/transaction</code>
                <span class="note">tworzy wpis i aktualizuje saldo</span>
              </div>
            </div>
          </div>

          <!-- PRAWA KARTA -->
          <div class="endpoints-card">
            <h3>Endpointy ‚Äì integracje</h3>

            <div class="ep-group">
              <h4>Webhooki (push)</h4>
              <div class="ep">
                <span class="verb post">POST</span><code>/v1/webhooks</code
                ><span class="note"
                  >rejestracja: url, secret, events[], clientId</span
                >
              </div>
              <div class="ep">
                <span class="verb get">GET</span
                ><code>/v1/webhooks?clientId=...</code>
              </div>
              <div class="ep stacked">
                <span class="label">Zdarzenie</span
                ><code>transaction.created</code>
                <span class="label">Nag≈Ç√≥wki</span>
                <code>X-MockBank-Timestamp</code
                ><code>X-MockBank-Idempotency-Key</code
                ><code>X-MockBank-Signature</code>
              </div>
            </div>

            <div class="ep-group">
              <h4>Pull API</h4>
              <div class="ep">
                <span class="verb get">GET</span>
                <code
                  >/api/owner/:owner/transactions?from=YYYY-MM-DD&amp;to=YYYY-MM-DD</code
                >
              </div>
              <div class="ep">
                <span class="label">Auth</span
                ><code>Authorization: Bearer &lt;API_KEY&gt;</code>
              </div>
              <div class="ep">
                <span class="label">owner</span><code>ObjectId</code
                ><code>pe≈Çny e-mail</code><code>prefiks e-mail (user+co≈õ)</code>
              </div>
            </div>
          </div>
        </div>

        <!-- Format danych -->
        <div class="data-format">
          <div class="data-card">
            <h3>Transakcje</h3>
            <pre><code>{
  "id": "652123‚Ä¶",
  "externalTxnId": "tx_abcd1234",
  "accountId": "651fff‚Ä¶",
  "amount": -1299,            
  "currency": "PLN",
  "date": "2025-10-05T18:41:00.000Z",
  "description": "Testowa transakcja",
  "raw": { "source": "simulator" }
}</code></pre>
            <p>
              Dane transakcji zwracane sƒÖ w
              <strong>sp√≥jnym formacie JSON</strong> ‚Äî kwoty w groszach (typ
              <code>int</code>), daty w standardzie
              <strong>ISO-8601 (UTC)</strong>. Aktualnie obs≈Çugiwana jest tylko
              waluta <strong>PLN</strong>, a struktura danych jest gotowa na
              rozszerzenie o inne waluty w przysz≈Çych wersjach.
            </p>
            <p class="note">
              Wszystkie endpointy zwracajƒÖ r√≥wnie≈º sp√≥jny kontrakt b≈Çƒôd√≥w (JSON
              z <code>traceId</code>, <code>code</code>, <code>message</code>),
              co u≈Çatwia integracjƒô i testowanie.
            </p>
          </div>
        </div>

        <!-- Deployment (zwiƒô≈∫le) -->

        <div class="env-card single">
          <h3>Uruchomienie w skr√≥cie</h3>
          <ul class="pill-list">
            <li>Docker (kontener)</li>
            <li>Render (hosting produkcyjny)</li>
            <li>Health-checki: /healthz ‚Ä¢ /readyz</li>
          </ul>
          <p class="muted">
            Projekt gotowy do rozbudowy i dostosowa≈Ñ na potrzeby innych
            aplikacji.
          </p>
        </div>

        <!-- Linki -->
        <div class="project-links">
          <a
            href="https://github.com/mareksigmund/Projekty/tree/main/MockBankAPI"
            target="_blank"
            rel="noopener"
            class="btn primary"
          >
            <svg
              class="github-icon"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 16 16"
              fill="currentColor"
              width="20"
              height="20"
            >
              <path
                d="M8 0C3.58 0 0 3.58 0 8a8 8 0 005.47 7.59c.4.07.55-.17.55-.38v-1.33c-2.23.48-2.7-1.08-2.7-1.08-.36-.91-.88-1.15-.88-1.15-.72-.5.06-.49.06-.49.8.06 1.22.83 1.22.83.71 1.21 1.86.86 2.31.66.07-.52.28-.86.5-1.06-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.58.82-2.14-.08-.2-.36-1.01.08-2.1 0 0 .67-.21 2.2.82A7.63 7.63 0 018 4.59a7.6 7.6 0 012 .27c1.53-1.03 2.2-.82 2.2-.82.44 1.09.16 1.9.08 2.1.51.56.82 1.27.82 2.14 0 3.07-1.87 3.75-3.65 3.95.28.24.53.73.53 1.48v2.2c0 .21.15.46.55.38A8 8 0 0016 8c0-4.42-3.58-8-8-8z"
              />
            </svg>
            Zobacz kod na GitHub
          </a>

          <a
            href="https://mockbank-iaco.onrender.com/healthz"
            target="_blank"
            rel="noopener"
            class="btn secondary"
            title="Uruchamia publiczne API ‚Äì przy pierwszym wywo≈Çaniu mo≈ºe potrwaƒá d≈Çu≈ºej (Render free)."
          >
            üåê Demo /healthz
          </a>
        </div>

        <!-- Notka o Renderze -->
        <p class="note-warn">
          <strong>Uwaga:</strong> API dzia≈Ça na darmowym planie <em>Render</em>,
          wiƒôc po bezczynno≈õci serwis mo≈ºe siƒô ‚Äûu≈õpiƒá‚Äù. Klikniƒôcie
          <em>Demo ‚Äì /healthz</em> wybudza instancjƒô ‚Äî pierwszy response mo≈ºe
          potrwaƒá nieco d≈Çu≈ºej.
        </p>
      </div>
    </section>

    <footer>
      <div class="footer-container">
        <p class="footer-name">¬© 2025 Marek Sigmund</p>
        <p class="footer-tagline">Stworzone z pasjƒÖ i odrobinƒÖ kawy ‚òï</p>
        <div class="footer-links">
          <a href="../assets/cv/CV_Marek.pdf" target="_blank">CV</a>
          <a href="https://github.com/mareksigmund/Projekty" target="_blank"
            >GitHub</a
          >
          <a
            href="https://www.linkedin.com/in/marek-sigmund-235164357"
            target="_blank"
            >LinkedIn</a
          >
          <a href="mailto:m.sigmund@o2.pl">E-mail</a>
        </div>
      </div>
    </footer>
  </body>
</html>
